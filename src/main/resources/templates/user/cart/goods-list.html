<html lang="ko" xmlns:th="http://www.thymeleaf.org">

	<div class="page_title text_center clear">장바구니</div>

	<div class="cart">
		<div class="table table_head">
			<div class="table_row">
				<div class="col1">
					<label class="check_style">
						<input type="checkbox" id="checkAllGoods" onclick="checkAllGoods(this)" />
						<span></span>
					</label>
				</div>
				<div class="col2">상품명</div>
				<div class="col3">금액</div>
				<div class="col4">선택</div>
			</div>
		</div>

		<!--/* 장바구니 리스트 */-->
		<ul class="table table_body" th:if="${not #lists.isEmpty( goodsList )}">
			<li class="table_row" th:each="row, status : ${goodsList}">
				<div class="col1">
					<label class="check_style">
						<input type="checkbox" name="code" th:value="${row.code}" onclick="checkOneGoods(this)" />
						<span></span>
					</label>
				</div>
				<div class="col2">
					<div class="img_box"><img th:src="@{/images/common/thumb.jpg}" alt="" /></div>
					<div class="txt_box">
						<p class="name" th:text="${row.goods.name}">상품명</p>
						<p class="option" th:text="|${row.goods.stock.color} / ${row.size}|">색상 / 사이즈</p>
						<p class="quantity" th:text="|수량  : ${row.quantity}|">수량 : 개수</p>
						<a href="javascript: void(0)" class="btn btn_border_black" th:onclick="changeOption([[ ${row.code} ]], [[ ${row.size} ]], [[ ${row.quantity} ]])">옵션 변경</a>
					</div>
				</div>
				<div class="col3">
					<span class="orange" th:text="|${#numbers.formatInteger( row.goods.price * row.quantity, 3, 'COMMA' )}원|">가격</span>
				</div>
				<div class="col4">
					<button type="button" class="btn btn_black">주문하기</button>
					<button type="button" class="btn btn_gray" th:onclick="deleteGoods([[ ${row.code} ]], [[ ${row.goods.name} ]])">삭제하기</button>
				</div>
			</li>
		</ul>

		<div class="sm_btn_wrap">
			<button type="button" class="btn btn_gray" onclick="deleteAllGoods()">전체상품 삭제</button>
			<button type="button" class="btn btn_gray" onclick="deleteCheckedGoods()">선택상품 삭제</button>
		</div>
	</div>

	<div class="total_price">
		<div class="price">
			<p>
				<span>상품 금액</span>
				<strong th:text="|${#numbers.formatInteger( totalAmount, 3, 'COMMA' )}원|"></strong>
			</p>
			<p>
				<span>배송비</span>
				<strong th:text="${totalAmount < 50000 ? '2,500원' : '무료'}"></strong>
			</p>
			<p class="last">
				<span>총 결제금액</span>
				<!-- 전체 상품 금액이 50,000원 미만의 경우에는 배송비 2500원이 추가되고, 50,000원 이상의 경우에는 무료 배송 -->
				<strong class="orange" th:text="|${totalAmount < 50000 ? #numbers.formatInteger( totalAmount + 2500, 3, 'COMMA' ) : #numbers.formatInteger( totalAmount, 3, 'COMMA' )}원|"></strong>
			</p>
		</div>

		<div class="btn_wrap text_center clear">
			<button type="button" class="btn btn_orange">주문하기</button>
			<a th:href="@{/goods/list}" class="btn btn_gray">쇼핑 계속하기</a>
		</div>
	</div>

</html>