<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
	<style type="text/css">
		.drop {
			width: 80%; height: 100px;
			border: 1px dotted gray;
			background-color: lightblue;
			margin: 0 auto;
			margin-top: 50px;
		}
	</style>
	
	<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
	<script>window.jQuery || document.write('<script src="lib/js/jquery-1.12.0.min.js"><\/script>')</script>
	<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>
	<script>window.jQuery || document.write('<script src="lib/js/jquery-ui.min.js"><\/script>')</script>
</head>
<body>
	<form action="/uploadTest" method="post" enctype="multipart/form-data">
		<input type="file" name="file" multiple="multiple" />
		<input type="submit" />
	</form>
	
	<div class="drop">
		
	</div>
	
	<script>
		$(".drop").on("dragenter dragover", function(e) {
			e.preventDefault();
		});
	
		$(".drop").on("drop", function(e) {
			e.preventDefault();
			
			// 이벤트와 같이 전달된 파일 데이터 조회
			var files = e.originalEvent.dataTransfer.files;
			
			var file = files[0];
			console.log(file);
			
			var formData = new FormData();
			formData.append("file", file);
			
			$.ajax({
				url : "/print",
				type : "post",
				dataType : "text",
				data : formData,
				contentType : false,
				processData : false, // 데이터를 일반적인 Query String으로 변환할 것인지를 결정하는 속성으로 기본값으로 true를 가짐
				success : function(response) {
					console.log(response);
				},
				error : function(request, status, error) {
					console.log("error : " + request);
				}
			});
			
			return false;
		});
	</script>
</body>
</html>